local screenGui = Instance.new("ScreenGui")
screenGui.Name = "MainMenuGui"
screenGui.Parent = game.CoreGui

-- Hauptmenü-Frame
local mainMenu = Instance.new("Frame")
mainMenu.Size = UDim2.new(0, 300, 0, 400)
mainMenu.Position = UDim2.new(1, -310, 1, -410)
mainMenu.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
mainMenu.Visible = false
mainMenu.Parent = screenGui

-- Menü-Button (MMAew) zum Ein- und Ausklappen
local menuButton = Instance.new("TextButton")
menuButton.Size = UDim2.new(0, 50, 0, 50)
menuButton.Position = UDim2.new(1, -60, 1, -60) -- Unten rechts
menuButton.Text = "≡"
menuButton.TextColor3 = Color3.fromRGB(255, 255, 255)
menuButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
menuButton.Font = Enum.Font.SourceSans
menuButton.TextSize = 24
menuButton.Parent = screenGui

-- Toggle Funktion für das Menü
menuButton.MouseButton1Click:Connect(function()
    mainMenu.Visible = not mainMenu.Visible
end)

-- Linkes Menü (Noclip, Teleport, Go to Ground)
local leftMenu = Instance.new("Frame")
leftMenu.Size = UDim2.new(0, 300, 0, 200)
leftMenu.Position = UDim2.new(0, 0, 1, -220)
leftMenu.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
leftMenu.Visible = false
leftMenu.Parent = screenGui

-- Schließen-Button für das linke Menü
local closeButtonLeftMenu = Instance.new("TextButton")
closeButtonLeftMenu.Size = UDim2.new(0, 30, 0, 30)
closeButtonLeftMenu.Position = UDim2.new(1, -35, 0, 5)
closeButtonLeftMenu.Text = "X"
closeButtonLeftMenu.TextColor3 = Color3.fromRGB(255, 255, 255)
closeButtonLeftMenu.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
closeButtonLeftMenu.Font = Enum.Font.SourceSans
closeButtonLeftMenu.TextSize = 20
closeButtonLeftMenu.Parent = leftMenu

closeButtonLeftMenu.MouseButton1Click:Connect(function()
    leftMenu.Visible = false
end)

-- Button für das linke Menü
local leftMenuButton = Instance.new("TextButton")
leftMenuButton.Size = UDim2.new(0, 50, 0, 50)
leftMenuButton.Position = UDim2.new(1, -60, 1, -120) -- Unten links
leftMenuButton.Text = "≡"
leftMenuButton.TextColor3 = Color3.fromRGB(255, 255, 255)
leftMenuButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
leftMenuButton.Font = Enum.Font.SourceSans
leftMenuButton.TextSize = 24
leftMenuButton.Parent = screenGui

leftMenuButton.MouseButton1Click:Connect(function()
    leftMenu.Visible = not leftMenu.Visible
end)

-- Funktionen für das linke Menü (Noclip, Teleport, Go to Ground)
local noclipButton = Instance.new("TextButton")
noclipButton.Size = UDim2.new(1, -10, 0, 40)
noclipButton.Position = UDim2.new(0, 5, 0, 60)
noclipButton.Text = "Toggle Noclip"
noclipButton.TextColor3 = Color3.fromRGB(255, 255, 255)
noclipButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
noclipButton.Font = Enum.Font.SourceSans
noclipButton.TextSize = 18
noclipButton.Parent = leftMenu

local noclip = false
game:GetService("RunService").Stepped:Connect(function()
    if noclip and game.Players.LocalPlayer.Character then
        for _, part in pairs(game.Players.LocalPlayer.Character:GetDescendants()) do
            if part:IsA("BasePart") then
                part.CanCollide = false
            end
        end
    end
end)

noclipButton.MouseButton1Click:Connect(function()
    noclip = not noclip
end)

-- Button für Teleport und Hit
local teleportButton = Instance.new("TextButton")
teleportButton.Size = UDim2.new(1, -10, 0, 40)
teleportButton.Position = UDim2.new(0, 5, 0, 110)
teleportButton.Text = "Teleport and Hit"
teleportButton.TextColor3 = Color3.fromRGB(255, 255, 255)
teleportButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
teleportButton.Font = Enum.Font.SourceSans
teleportButton.TextSize = 18
teleportButton.Parent = leftMenu

teleportButton.MouseButton1Click:Connect(function()
    -- Hier kommt der Code für Teleport and Hit
end)

-- Button für Go to Ground
local goToGroundButton = Instance.new("TextButton")
goToGroundButton.Size = UDim2.new(1, -10, 0, 40)
goToGroundButton.Position = UDim2.new(0, 5, 0, 160)
goToGroundButton.Text = "Go to Ground"
goToGroundButton.TextColor3 = Color3.fromRGB(255, 255, 255)
goToGroundButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
goToGroundButton.Font = Enum.Font.SourceSans
goToGroundButton.TextSize = 18
goToGroundButton.Parent = leftMenu

goToGroundButton.MouseButton1Click:Connect(function()
    -- Code für Go to Ground
end)

-- Rechtes Menü (ESP, Speed und Jump)
local rightMenu = Instance.new("Frame")
rightMenu.Size = UDim2.new(0, 300, 0, 200)
rightMenu.Position = UDim2.new(1, -310, 1, -220)
rightMenu.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
rightMenu.Visible = false
rightMenu.Parent = screenGui

-- Schließen-Button für das rechte Menü
local closeButtonRightMenu = Instance.new("TextButton")
closeButtonRightMenu.Size = UDim2.new(0, 30, 0, 30)
closeButtonRightMenu.Position = UDim2.new(1, -35, 0, 5)
closeButtonRightMenu.Text = "X"
closeButtonRightMenu.TextColor3 = Color3.fromRGB(255, 255, 255)
closeButtonRightMenu.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
closeButtonRightMenu.Font = Enum.Font.SourceSans
closeButtonRightMenu.TextSize = 20
closeButtonRightMenu.Parent = rightMenu

closeButtonRightMenu.MouseButton1Click:Connect(function()
    rightMenu.Visible = false
end)

-- Button für das rechte Menü
local rightMenuButton = Instance.new("TextButton")
rightMenuButton.Size = UDim2.new(0, 50, 0, 50)
rightMenuButton.Position = UDim2.new(0, 10, 1, -120) -- Unten rechts
rightMenuButton.Text = "≡"
rightMenuButton.TextColor3 = Color3.fromRGB(255, 255, 255)
rightMenuButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
rightMenuButton.Font = Enum.Font.SourceSans
rightMenuButton.TextSize = 24
rightMenuButton.Parent = screenGui

rightMenuButton.MouseButton1Click:Connect(function()
    rightMenu.Visible = not rightMenu.Visible
end)

-- ESP Button (im rechten Menü)
local espButton = Instance.new("TextButton")
espButton.Size = UDim2.new(1, -10, 0, 40)
espButton.Position = UDim2.new(0, 5, 0, 60)
espButton.Text = "Toggle ESP"
espButton.TextColor3 = Color3.fromRGB(255, 255, 255)
espButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
espButton.Font = Enum.Font.SourceSans
espButton.TextSize = 18
espButton.Parent = rightMenu

local espEnabled = false

-- Funktion für das Hinzufügen von ESP zu Spielern
local function createESP(player)
    -- BillboardGui für den ESP
    local billboardGui = Instance.new("BillboardGui")
    billboardGui.Size = UDim2.new(0, 200, 0, 50)
    billboardGui.StudsOffset = Vector3.new(0, 2, 0)
    billboardGui.AlwaysOnTop = true
    billboardGui.Parent = player.Character

    -- TextLabel für den ESP
    local textLabel = Instance.new("TextLabel")
    textLabel.Size = UDim2.new(1, 0, 1, 0)
    textLabel.BackgroundTransparency = 1
    textLabel.Text = player.Name
    textLabel.TextColor3 = Color3.fromRGB(255, 0, 0) -- Rot
    textLabel.Font = Enum.Font.SourceSansBold
    textLabel.TextSize = 14
    textLabel.Parent = billboardGui

    -- Verfolge den Charakter neu, falls er respawnt
    player.CharacterAdded:Connect(function(character)
        -- Stelle sicher, dass der ESP weiterhin über dem Kopf bleibt
        if character:FindFirstChild("Head") then
            billboardGui.Adornee = character.Head
        end
    end)

    -- Stelle sicher, dass der ESP immer über dem Kopf bleibt
    if player.Character and player.Character:FindFirstChild("Head") then
        billboardGui.Adornee = player.Character.Head
    end
end

espButton.MouseButton1Click:Connect(function()
    espEnabled = not espEnabled
    if espEnabled then
        -- ESP für alle Spieler aktivieren
        for _, player in ipairs(game.Players:GetPlayers()) do
            if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                createESP(player)
            end
        end
    else
        -- ESP für alle Spieler deaktivieren
        for _, player in ipairs(game.Players:GetPlayers()) do
            if player.Character and player.Character:FindFirstChild("BillboardGui") then
                player.Character:FindFirstChild("BillboardGui"):Destroy()
            end
        end
    end
end)

-- Speed und Jump Einstellung (Menü)
local movementButton = Instance.new("TextButton")
movementButton.Size = UDim2.new(1, -10, 0, 40)
movementButton.Position = UDim2.new(0, 5, 0, 160)
movementButton.Text = "Adjust Speed & Jump"
movementButton.TextColor3 = Color3.fromRGB(255, 255, 255)
movementButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
movementButton.Font = Enum.Font.SourceSans
movementButton.TextSize = 18
movementButton.Parent = rightMenu

local movementMenu = Instance.new("Frame")
movementMenu.Size = UDim2.new(0, 300, 0, 100)
movementMenu.Position = UDim2.new(0, 0, 0, 50)
movementMenu.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
movementMenu.Visible = false
movementMenu.Parent = rightMenu

local speedSlider = Instance.new("Slider")
speedSlider.Size = UDim2.new(1, -10, 0, 20)
speedSlider.Position = UDim2.new(0, 5, 0, 5)
speedSlider.MinValue = 0
speedSlider.MaxValue = 100
speedSlider.Value = 16
speedSlider.Parent = movementMenu

local jumpSlider = Instance.new("Slider")
jumpSlider.Size = UDim2.new(1, -10, 0, 20)
jumpSlider.Position = UDim2.new(0, 5, 0, 35)
jumpSlider.MinValue = 0
jumpSlider.MaxValue = 100
jumpSlider.Value = 50
jumpSlider.Parent = movementMenu

movementButton.MouseButton1Click:Connect(function()
    movementMenu.Visible = not movementMenu.Visible
end)

-- Sprungkraft und Geschwindigkeit anwenden
game:GetService("RunService").Heartbeat:Connect(function()
    local character = game.Players.LocalPlayer.Character
    if character then
        character.Humanoid.WalkSpeed = speedSlider.Value
        character.Humanoid.JumpHeight = jumpSlider.Value
    end
end)
